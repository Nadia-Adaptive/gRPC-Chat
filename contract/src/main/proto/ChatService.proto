option java_package = "chatapp.ChatService";

service ChatService{
  rpc sendMessage(stream MessageRequest) returns (stream MessageResponse){}
}

message MessageRequest{
  required int32 roomId = 1;
  required int32 userId = 2;
  required string message = 3;
}

message MessageResponse{
  required int32 messageId = 1;
  required int64 timestamp = 2;
  required string message = 3;
}
