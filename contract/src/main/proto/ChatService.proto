option java_package = "chatapp.ChatService";

service ChatService {
  rpc sendMessage(stream MessageRequest) returns (stream MessageResponse){}
}

message MessageRequest {
  optional int32 roomId = 1;
  optional int32 userId = 2;
  optional string message = 3;
}

message MessageResponse {
  optional string username = 1;
  optional int64 timestamp = 2;
  optional string message = 3;
}
